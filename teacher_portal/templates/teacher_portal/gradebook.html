{% extends "teacher_portal/base.html" %}

{% block extra_css %}
    <!-- Table CSS -->
<link rel="stylesheet" href="{% static 'teacher_portal/css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/_status_indicators.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/sidebar.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/components.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/core.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/forms.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/styles.css' %}">
<link rel="stylesheet" href="{% static 'teacher_portal/css/tables.css' %}">
    
    <style>
        .grade-distribution-chart {
            height: 300px;
        }
        .letter-grade {
            font-weight: bold;
            width: 40px;
            display: inline-block;
            text-align: center;
        }
    </style>
{% endblock %}

{% block content %}
<div class="container">
  <div class="sidebar">
    {% include 'teacher_portal/sidebar.html' %}
  </div>
  <div class="main-content">
    <div class="header">
      <h1>Gradebook</h1>
    </div>
    <div class="dashboard-section">
      {% if courses %}
      <ul class="activity-list">
        {% for c in courses %}
        <li class="activity-item">
          <div class="activity-icon">
            <i class="fas fa-book"></i>
          </div>
          <div>
            <div class="activity-title">{{ c.code }} - {{ c.title }}</div>
            <div class="activity-meta">
              {{ c.enrolled_students.count }} students â€¢ {{ c.assignments.count }} assignments
            </div>
            
            <!-- Chart placeholder for grade distribution -->
            <div class="grade-distribution-chart mt-3">
              <canvas id="gradeChart-{{ c.id }}"></canvas>
            </div>
          </div>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <div class="empty-state">
        <p>No courses yet.</p>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
